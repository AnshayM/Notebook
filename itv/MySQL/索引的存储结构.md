### B 树& B+树

B 树也称 B-树,全称为 **多路平衡查找树** ，B+ 树是 B 树的一种变体。

目前大部分数据库系统及文件系统都采用 B-Tree 或其变种 B+Tree 作为索引结构。
Mysql的InnoDb使用B+树，Oracle使用的是B树

**B 树& B+树两者有何异同呢？**

- B 树的所有节点既存放键(key) 也存放 数据(data)，而 B+树只有叶子节点存放 key 和 data，其他内节点只存放 key。
- B 树的叶子节点都是独立的;B+树的叶子节点有一条引用链指向与它相邻的叶子节点。
- B 树的检索的过程相当于对范围内的每个节点的关键字做二分查找，可能还没有到达叶子节点，检索就结束了。而 B+树的检索效率就很稳定了，任何查找都是从根节点到叶子节点的过程，叶子节点的顺序检索很明显。



#### 索引失效的情况

在where条件中使用函数、or的一个条件里没有索引、使用like后两边都用%号修饰。(单边时需要用explain来分析)

#### 聚簇索引（或聚集索引）和非聚簇索引

主键索引就是一个聚簇索引，叶子结点中存储的就是对应的数据，直接取出即可。非聚簇索引保存的是对应主键的地址，需要回表才能取到对应的数据。

在查询的值就是索引里包含的值时，不需要回表。