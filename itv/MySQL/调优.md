1. **选择合适的****DBMS**

阵营区别：SQL和NoSQL，不同的数据库对于事物处理和查询性能略有不同，例如SQLServer，单表存储上亿条数据也没有问题。
进行事务处理选择InnoDB，非事务处理可以选择MyISAM

NoSql阵营包括：key-value数据库、文档数据库、搜索引擎、列式存储、图形数据库。

1. **优化表设计**

2. 1. 表结构尽量遵守第三范式

1NF：数据库中的任何属性都是原子性的，不可再分

2NF：数据表里的非主属性都要和这个数据表的候选键有完全依赖关系

3NF：在满足2NF的同时，对任何非主属性都不传递依赖与候选键

1. **优化逻辑查询**

换一种写法，是算法层面的优化。

  通过改变sql语句的内容让sql执行效率更高

sql的查询重写包括了子查询优化、等价谓词重写、视图重写、条件简化、连接消除和嵌套连接消除等

​      在where子句中尽量避免对字段进行函数运算，他们会让字段的索引失效。

 

1. **优化物理查询**

通过索引和表连接方式等技术来进行优化，这里重点需要掌握索引的使用。

1. **使用****Redis****或者****memcached****作为缓存**

   Redis支持持久化，可以让数据存在硬盘中，这样性能消耗比较大。memcached仅仅是内存存储，不支持持久化。

   从支持的数据来说，Redis比memcached要多，它不仅支持key-value类型数据，还支持List、Set、Hash等数据结构

#### 慢查询检查

slow_query_log
默认情况下slow_query_log的值为OFF，表示慢查询日志是禁用的，可以通过设置slow_query_log的值来开启，如下所示：
mysql> show variables  like '%slow_query_log%';

1. **库级优化**

库级优化是在数据库的维度上进行的优化策略，比如控制一个库中的表数量，另外可以采用主从架构优化读写策略。

1. 控制库内数据表数
2. 读写分离，主库master做写操作，从库slave做读操作

 

**垂直切分**：字段数量较多，将经常用的字段划到一个表，其他字段划到另一个表

**水平切分**：同一结构的表，按某一列的值区分到不同表，比如2017年、2018年、2019年的数据分别存三张表，三个表结构相同，数据不同

 

注：分拆在提升性能时也会增加维护和使用成本