<!-- import java.util.*; -->
<!--  -->
<!-- // 必须定义 `ShowMeBug` 入口类和 `public static void main(String[] args)` 入口方法 -->
<!-- public class ShowMeBug { -->
<!--   public static void main(String[] args) { -->
<!--      -->
<!--     System.out.println("Hello World!"); -->
<!--   } -->
<!-- } -->
<!--  -->
<!-- 1. ThreadLocal是什么？ -->
<!-- 本地线程变量 -->
<!-- Thred->ThreadLocalMap<ThreadLocal,value> -->
<!-- 2. ThreadLocal最佳实践应用场景都有哪些？简单举个例子 -->
<!-- Spring事务传递通过ThreadLocalMap，判断是否有事务以及传递策略 -->
<!--  -->
<!-- 3. ThreadLocal在SpringMVC框架的应用都有哪些？ -->
<!--  -->
<!-- 4.实际使用 -->
<!-- 通过ThreadLocal实现不同数据库之间的切换，主要在dao层去处理。 -->
<!--  -->
<!--  -->
<!--  -->
<!-- HashMap和HashTable的区别?HashMap默认容量是多少？初始化实例时为什么需要提前设置容量大小? -->
<!-- Hashtable->已经废弃了map，线程安全，一把锁全部。通常和CocurrentHashMap比对 -->
<!-- HashMap，底层实现Object[]，item->linkedList;1.8做了一些优化，数组+链表+红黑树。 -->
<!-- 切换条件：size>64,hashc冲突数量>8,转化为红黑树。<6时切换回来。根据柏松分布得来的8. -->
<!-- 〈64时做扩容。 -->
<!--  -->
<!-- CocurrentHashMap，sychnorized同步实现，锁node头节点。1.7之前是分段锁。 -->
<!--  -->
<!--  -->
<!-- 你平时使用最多的是什么Map数据结构? -->
<!-- HashMap -->
<!--  -->
<!--  -->
<!-- 使用过java.util.concurrent包下的数据结构类型吗？ -->
<!-- 有看过 -->
<!-- BlockLinkedList-阻塞队列，以及一些变体 -->
<!--  -->
<!-- 使用过：可重入锁ReEnterLock,Vect-List, -->
<!-- Future相关类 -->
<!--  -->
<!-- 同步类型的，set、队列相关。 -->
<!--  -->
<!--  -->
<!--  -->
<!--  -->
<!--  -->
<!--  -->
<!--  -->
<!-- 你怎么理解cookie和session，有哪些不同点 -->
<!-- 都是用来跟踪记录用户信息 -->
<!-- cookie是前端保存的，jwt-一种应用方式，分布式环境，不用关心service不同的问题。存在安全问题 -->
<!-- session是后端保存，Oauth2，可能需要自己处理【1，service之间同步，2分布式缓存-推荐采用。3落到数据-不推荐】 -->
<!--  -->
<!--  -->
<!--  -->
<!--  -->
<!-- Spring的跨域如何解决？ -->
<!-- 引起：请求了不同源 -->
<!-- 1.请求统一网关，网关做具体分流--springCloud-gateway -->
<!--  -->
<!--  -->
<!--  -->
<!-- 在前后端分离项目场景里，如何让前端展示的所有时间是当地时间 -->
<!-- 1.前端获取展示，国际化处理。 -->
<!-- 2.做国际化本地化，java有个localDate相关的接口，有时区的设置。 -->
<!-- 如果服务器在A，客户端在B，就需要前端传递时区信息。 -->
<!-- 客户端ip信息可以获取部分信息。---从网络连接里拿对应的信息。 -->
<!--  -->
<!-- 接口数据被人截包了，你如何防止数据恶意提交？ -->
<!-- 用户信息，ip信息。 -->
<!-- 同一个用户认证，对应网络位置(ip、设备码)出现变化，视为风险请求，不做处理/给出提示，下线。 -->
<!-- 用户认证，密码-加盐处理。自定义的序列化。加密传输/禁止明文传输。 -->
<!-- 高危操作加限制。csrf -->
<!--  -->
<!--  -->
<!--  -->
<!--  -->
<!--  -->
<!--  -->
遇到过项目并发情况吗？你是如何解决
接收录音udp包，会请求redis，redis连接池耗时。通过本地缓存的方式，二级缓存。优先取本地。

redis队列阻塞获取消息。做成非阻塞的获取，手写lua脚本做简单的逻辑处理。
多次尝试，得到比较合适的线程配置。coreSize、maxPoolSize。

高并发下内存溢出问题，上服务器通过jstack查看内存情况。dump堆信息进行分析。

主要在于单次处理的优化+线程池、连接池优化。


ng做负载均衡，ip、业务信息做一致性hash分配请求。

微服务中有ribbon+forein，由客户端自己确定请求哪一个服务