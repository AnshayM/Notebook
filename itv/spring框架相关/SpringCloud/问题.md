#### CAP

无法同时满足

**一致性**Consistency：分布式环境下多个节点的数据是否强一致。
**可用性**Avaliability：分布式服务能一直保证可用状态。当用户发出一个请求后，服务能在有限的时间内返回结果。
**分区容忍性**Patition Tolerance：对网络分区的容忍性。

**BASE理论**

**基本可用**(Basically Available)：指分布式系统在出现故障时，允许损失部分的可用性来保证核心可用
**软状态**(Soft State)：指分布式系统存在中间状态，该中间状态不会影响到系统的整体可用性
**最终一致性**(Eventual Consistency)：指分布式系统中的所有副本数据经过一定时间后，最终能够达到一致的状态

#### 分布式事务、分布式锁

分布式事务，工程领域讨论的是强一致性和最终一致性的结局方案：

1. 两阶段提交(2PC,Two-phase Commit)方案
2. ebay事件队列方案
3. TCC补偿模式
4. 缓存数据最终一致性

**2PC方案——强一致性**

通过提交分阶段和记日志的方式，记录下事务提交所处的阶段状态。







#### dubbo和springCloud的区别

Dubbo是soa的产物，关注点在于服务的调用用、流量分发、流量监控和熔断。目标在于服务治理。
SpringCloud诞生于微服务架构时代考虑的是微服务治理的方方面面，另外依托了spring、springBoot的优势。目标在于打造一个生态。

**Dubbo**底层使用Netty这种NIO框架，基于TCP协议，配合以Heesion序列化完成RPC通信，
**SpringCloud**是基于Http协议Rest接口调用远程过程的通信。相对来说Http请求会有更大的报文，占的带宽也会更多。但REST相比RPC更为灵活，服务提供方和调用方的依赖只靠一纸契约，不存在代码级别的强依赖，在快速演变的微服务环境下，显得更为合适，至于注重通信速度还是方便灵活性，具体情况具体考虑。

